# GPIO - Ethernet

![](img_1.png)

https://www.cdebyte.com/products/NT1-B

![](gpio1.svg)

## Команды

Все команды четырехбайтовые: номер_модуля/команда/порт/значение

Для преобразования в удобочитаемые команды применяется сервис [mqtt_gpio](mqtt_gpio_service/readme.md)

MQTT -> GPIO

| команда                      | описание                   |
|------------------------------|----------------------------|
| 00 **00** (00..32) 00        | выключить порт (00..32)    |
| 00 **00** (00..32) 01        | включить порт (00..32)     |
| 00 **02** (00..03) (0...100) | установить PWM в процентах |
| 00 **03** byte0 byte1        | команда DALI               |


GPIO -> MQTT


| команда               | описание                        |
|-----------------------|---------------------------------|
| 00 **20** (00..32) 01 | нажали кнопку на порту (00..32) |

## Структура программы

[**Работаем с CLion**](clion/clion.md)

![](program.svg)



## Модульная система

Модули могут работать как одиночно, в этом случае они подключаются по Ethernet, так и связываться по шине CAN, если в данном месте модулей нужно более одного.

![](can_modules.svg)


## Распайка компонентов портов

[см.](gpio_pic/readme.md)